<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>四六级成绩管理系统</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            list-style: none;
        }
        body {
            display: flex;

            justify-content: space-between;
            align-items: center;

            font-family: Arial, sans-serif;
        }
        .sidebar {
            width: 15vw;
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 10px;
            height: 100vh;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            box-sizing: border-box;
        }
        .sidebar a {
            display: block;
            color: #ecf0f1;
            text-decoration: none;
            margin: 15px 0;
            padding: 10px;
            border-radius: 4px;
        }
        .sidebar a:hover {
            background-color: #34495e;
        }
        .content {
            width: 80vw;
            height: 100vh;

            margin: auto;

            overflow-y: hidden;
        }
        .content_box{
            width: 100%;
            height: 100vh;

        }
        #content_box1{
            display: flex;
            width: 100%;

            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        #content_box1 div{
            width: 80%;

            display: flex;
            justify-content: space-around;
            align-items: center;
        }
        #content_box1 div a{
            width: 20%;

            text-align: center;
            text-decoration-line: none;
            font-size: x-large;

            color: #2c3e50;
            border: 1px solid black;
            box-sizing: border-box;
        }
        #content_box1 div a:hover{
            color: #00d0ff;
        }

        #content_box2{
            width: 100%;

            display: flex;

            flex-direction: column;
        }
        #studentForm .form-group {
            margin-bottom: 30px;
            display: flex;

            font-size: large;
        }
        #studentForm label {
            display: inline-block;
            width: 200px;
        }
        #studentForm input[type="text"] {
            width: 200px;
        }
    </style>
</head>
<body>
<div class="sidebar">
    <h3 style="text-align: center;">四六级成绩管理系统</h3>
    <a href="#content_box1" >主页</a>
    <a href="#content_box2" >学生信息管理</a>
    <a href="#content_box3" >成绩管理</a>
    <a href="#content_box4" >统计与分析</a>
    <a href="#content_box5" >通知公告</a>
</div>
<div class="content" id="content">
    <div class="content_box" id="content_box2">
        <h2 style="margin:2vh 0vh;">学生信息管理</h2>
        <form id="studentForm">
            <div class="form-group">
                <label for="name">姓名</label>
                <input type="text" id="name" name="name">
            </div>
            <div class="form-group">
                <label for="studentId">学号</label>
                <input type="text" id="studentId" name="studentId">
            </div>
            <div class="form-group">
                <label for="major">专业</label>
                <input type="text" id="major" name="major">
            </div>
            <div class="form-group">
                <label for="grade">年级</label>
                <input type="text" id="grade" name="grade">
            </div>
            <button type="button" onclick="enableEditing()">修改</button>
            <button type="button" onclick="saveData()">保存</button>
        </form>
    </div>

    <div class="content_box" id="content_box1">
        <h1 style="margin-bottom: 10vh">欢迎使用四六级成绩管理系统</h1>
        <div>
            <a href="#content_box6">登记成绩</a>
            <a href="#content_box3">成绩管理</a>
            <a href="#content_box2">修改信息</a>
            <a href="#content_box5">系统公告</a>
        </div>
    </div>
    <div class="content_box" id="content_box3">成绩管理</div>
    <div class="content_box" id="content_box4">统计与分析</div>
    <div class="content_box" id="content_box5">通知公告</div>
    <div class="content_box" id="content_box6">登记成绩</div>
</div>
<script>
    let userInfo = null;
    let userType = null;

    document.addEventListener('DOMContentLoaded', (event) => {
        userType = sessionStorage.getItem('userType');
        userInfo = JSON.parse(sessionStorage.getItem('userInfo'));
        // TODO:如果是学生身份
        if(userType === 'student'){
            const student = userInfo;
            document.getElementById('name').value = student.name;
            document.getElementById('studentId').value = student.studentId;
            document.getElementById('major').value = student.major;
            document.getElementById('grade').value = student.grade;
        }else{
            const admin = userInfo;

        }
    });

    // 学生信息管理
    function enableEditing() {
        const inputs = document.querySelectorAll('#studentForm input');
        inputs.forEach(input => {
            input.removeAttribute('disabled');
        });
    }

    // 学生信息管理
    function saveData() {
        const inputs = document.querySelectorAll('#studentForm input');
        // Disable the inputs after saving (simulation)
        inputs.forEach(input => {
            input.setAttribute('disabled', 'true');
        });
        alert('数据已保存！');
    }

    window.onload = () => {
        // 学生信息管理
        // 设置信息无法保存 Initially disable all inputs
        const inputs = document.querySelectorAll('#studentForm input');
        inputs.forEach(input => {
            input.setAttribute('disabled', 'true');
        });
    };
</script>
</body>
</html>
